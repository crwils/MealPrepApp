{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Animated from\"react-native-web/dist/exports/Animated\";import Alert from\"react-native-web/dist/exports/Alert\";import{icons,images,SIZES,COLORS,FONTS}from\"../constants\";function Basket(_ref){var route=_ref.route,navigation=_ref.navigation;var scrollY=new Animated.Value(0);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),company=_useState2[0],setCompany=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orderItems=_useState4[0],setOrderItems=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),menu=_useState6[0],setMenu=_useState6[1];console.log(orderItems);useEffect(function(){var _route$params=route.params,company=_route$params.company,orderItems=_route$params.orderItems,menu=_route$params.menu;setCompany(company);setOrderItems(orderItems);setMenu(menu.setMealList);},[]);function completeOrder(){setCompany(null);setOrderItems([]);setMenu(null);Alert.alert(\"Order complete!\");navigation.navigate(\"Home\");}function renderHeader(){return React.createElement(View,{style:{paddingBottom:50}},React.createElement(View,{style:{flexDirection:'row'}},React.createElement(TouchableOpacity,{style:{width:50,paddingLeft:SIZES.padding*2,justifyContent:'center'},onPress:function onPress(){return navigation.navigate(\"Company\");}},React.createElement(Image,{source:icons.back,resizeMode:\"contain\",style:{width:30,height:30}})),React.createElement(View,{style:{flex:1,alignItems:'center',justifyContent:'center'}},React.createElement(View,{style:{height:50,alignItems:'center',justifyContent:'center',paddingHorizontal:SIZES.padding*3,borderRadius:SIZES.radius,borderWidth:1,borderColor:COLORS.lightGray1,backgroundColor:COLORS.lightGray3}},React.createElement(Text,{style:_objectSpread({},FONTS.h3)},\"Your Basket\"))),React.createElement(TouchableOpacity,{style:{width:50,paddingRight:SIZES.padding*2,justifyContent:'center'}},React.createElement(Image,{source:icons.list,resizeMode:\"contain\",style:{width:30,height:30,tintColor:COLORS.lightGray2}}))),React.createElement(Text,{style:_objectSpread(_objectSpread({},FONTS.h1),{},{fontWeight:\"800\",paddingTop:20,paddingLeft:25})},\"ORDER SUMMARY:\"));}function getOrderTotal(){var total=orderItems.reduce(function(counter,item){return counter+(item.name.price*item.qty||0);},0);return total.toFixed(2);}function renderPayment(){return React.createElement(View,null,React.createElement(View,{style:{backgroundColor:COLORS.white,borderTopLeftRadius:40,borderTopRightRadius:40}},React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',paddingVertical:SIZES.padding*2,paddingHorizontal:SIZES.padding*3,borderBottomColor:COLORS.lightGray2,borderBottomWidth:1}},React.createElement(Text,{style:_objectSpread({},FONTS.h3)},\" Total Payment Due: \\xA3\",getOrderTotal(),\" \")),React.createElement(View,{style:{padding:SIZES.padding*2,alignItems:'center',justifyContent:'center'}},React.createElement(TouchableOpacity,{style:{width:SIZES.width*0.9,padding:SIZES.padding,backgroundColor:COLORS.primary,alignItems:'center',borderRadius:SIZES.radius},onPress:function onPress(){return completeOrder();}},React.createElement(Text,{style:_objectSpread({color:COLORS.white},FONTS.h2)},\"Pay Now\")))));}return React.createElement(SafeAreaView,{style:styles.container},renderHeader(),renderOrderDetails(),renderPayment());}var styles=StyleSheet.create({container:{flex:1,backgroundColor:COLORS.lightGray2}});export default Basket;","map":{"version":3,"sources":["/Users/craigwilsonmusic/codeclan_work/projects/MealPrepAppV2/prep_app/MealPrepApp/Client/app/screens/Basket.js"],"names":["React","useState","useEffect","icons","images","SIZES","COLORS","FONTS","Basket","route","navigation","scrollY","Animated","Value","company","setCompany","orderItems","setOrderItems","menu","setMenu","console","log","params","setMealList","completeOrder","Alert","alert","navigate","renderHeader","paddingBottom","flexDirection","width","paddingLeft","padding","justifyContent","back","height","flex","alignItems","paddingHorizontal","borderRadius","radius","borderWidth","borderColor","lightGray1","backgroundColor","lightGray3","h3","paddingRight","list","tintColor","lightGray2","h1","fontWeight","paddingTop","getOrderTotal","total","reduce","counter","item","name","price","qty","toFixed","renderPayment","white","borderTopLeftRadius","borderTopRightRadius","paddingVertical","borderBottomColor","borderBottomWidth","primary","color","h2","styles","container","renderOrderDetails","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { View, Text, StyleSheet, SafeAreaView, Image, TouchableOpacity, Animated, Alert } from \"react-native\";\n\nimport { icons, images, SIZES, COLORS, FONTS } from '../constants';\n\nfunction Basket({ route, navigation }) {\n\n    const scrollY = new Animated.Value(0);\n    const [company, setCompany] = useState(null);\n    const [orderItems, setOrderItems] = useState([]);\n    const [menu, setMenu] = useState(null);\n\n    console.log(orderItems);\n\n    useEffect(() => {\n        let { company, orderItems, menu } = route.params; \n        setCompany(company);\n        setOrderItems(orderItems);\n        setMenu(menu.setMealList);\n        // console.log(orderItems);\n    }, [])\n\n    function completeOrder() {\n        setCompany(null)\n        setOrderItems([])\n        setMenu(null)\n        Alert.alert(\"Order complete!\")\n        navigation.navigate(\"Home\")\n    }\n\n    function renderHeader() {\n        return (\n            <View\n            style={{ paddingBottom: 50}}>\n            <View style={{ flexDirection: 'row' }}>\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingLeft: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => navigation.navigate(\"Company\")}\n                >\n                    <Image\n                        source={icons.back}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n\n                <View\n                    style={{\n                        flex: 1,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 50,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderRadius: SIZES.radius,\n                            borderWidth: 1,\n                            borderColor: COLORS.lightGray1,\n                            backgroundColor: COLORS.lightGray3\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>Your Basket</Text>\n                    </View>\n                </View>\n\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingRight: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                >\n                    <Image\n                        source={icons.list}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30,\n                            tintColor: COLORS.lightGray2\n                        }}\n                    />\n                </TouchableOpacity>\n            </View>\n            <Text style={{ ...FONTS.h1, fontWeight: \"800\", paddingTop: 20, paddingLeft: 25 }}>ORDER SUMMARY:</Text>\n            </View>\n        )\n    }\n\n    // function renderOrderDetails() {\n    //     const order = orderItems.map(item => {\n    //         if (item.qty > 0)\n    //         return (\n    //             <View\n    //             style={{ alignItems: 'center', \n    //             flex: 1, \n    //             flexDirection: \"column\", \n    //             justifyContent: \"flex-start\",\n    //             marginLeft: 30,\n    //             marginRight: 30,\n    //             alignItems: \"left\"\n    //             // marginTop: 10\n    //         }}\n    //             key={item => `basket-${item.id}`}\n    //             >\n    //                 <Text style={{...FONTS.h3, marginBottom: 10 }}\n    //                 >{item.qty}x {item.name.name}</Text>\n    //                 <Image\n    //                     source={{uri: item.name.imageUrl}}\n    //                     resizeMode=\"cover\"\n    //                     style={{\n    //                         width: \"100%\",\n    //                         height: 90,\n    //                         // borderRadius: 20,\n    //                         flex: 1,\n    //                         marginBottom: 10\n    //                     }}\n    //                 />\n    //             </View>\n    //         )\n    //     })\n    //     return order;\n    // }\n\n\n\n    function getOrderTotal() {\n        let total = orderItems.reduce((counter, item) => counter + (item.name.price * item.qty || 0), 0)\n        return total.toFixed(2);\n    }\n\n    function renderPayment() {\n        return (\n                    <View>\n                        <View\n                            style={{\n                                backgroundColor: COLORS.white,\n                                borderTopLeftRadius: 40,\n                                borderTopRightRadius: 40\n                            }}\n                        >\n                            <View\n                                style={{\n                                    flexDirection: 'row',\n                                    justifyContent: 'space-between',\n                                    paddingVertical: SIZES.padding * 2,\n                                    paddingHorizontal: SIZES.padding * 3,\n                                    borderBottomColor: COLORS.lightGray2,\n                                    borderBottomWidth: 1\n                                }}\n                            >\n                                <Text style={{ ...FONTS.h3 }}> Total Payment Due: £{getOrderTotal()} </Text>\n                            </View>\n                                {/* Order Button */}\n                                <View\n                    style={{\n                        padding: SIZES.padding * 2,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    >\n                    <TouchableOpacity\n                        style={{\n                            width: SIZES.width * 0.9,\n                            padding: SIZES.padding,\n                            backgroundColor: COLORS.primary,\n                            alignItems: 'center',\n                            borderRadius: SIZES.radius\n                        }}\n                        onPress={() => completeOrder()}\n                    >\n                        <Text style={{ color: COLORS.white, ...FONTS.h2 }}>Pay Now</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n\n\n        )\n    }\n          \n    return (\n\n            <SafeAreaView style={styles.container}>\n                {renderHeader()}\n                {renderOrderDetails()}\n                {renderPayment()}\n            </SafeAreaView>\n    \n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n    flex: 1,\n    backgroundColor: COLORS.lightGray2,\n    }\n})\n\nexport default Basket;"]},"metadata":{},"sourceType":"module"}