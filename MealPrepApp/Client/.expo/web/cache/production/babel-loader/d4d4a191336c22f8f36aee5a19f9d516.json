{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Animated from\"react-native-web/dist/exports/Animated\";import{icons,images,SIZES,COLORS,FONTS}from\"../constants\";function Basket(_ref){var route=_ref.route,navigation=_ref.navigation;var scrollY=new Animated.Value(0);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),company=_useState2[0],setCompany=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orderItems=_useState4[0],setOrderItems=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),menu=_useState6[0],setMenu=_useState6[1];console.log(orderItems);useEffect(function(){var _route$params=route.params,company=_route$params.company,orderItems=_route$params.orderItems,menu=_route$params.menu;setCompany(company);setOrderItems(orderItems);setMenu(menu.setMealList);},[]);function completeOrder(){setCompany(null);setOrderItems([]);setMenu(null);navigation.navigate(\"Home\");}function renderOrderDetails(){var order=orderItems.map(function(item){if(item.qty>0)return React.createElement(View,{style:{alignItems:'center',flex:1,flexDirection:\"row\",justifyContent:\"space-around\"},key:function key(item){return\"basket-\"+item.id;}},React.createElement(Text,{style:{flex:0.75}},item.name.name,\" x \",item.qty),React.createElement(Image,{source:{uri:item.name.imageUrl},resizeMode:\"contain\",style:{width:SIZES.width/2,height:\"100%\",borderRadius:20,flex:0.25}}));});return order;}function renderHeader(){return React.createElement(View,null,React.createElement(View,{style:{flexDirection:'row'}},React.createElement(TouchableOpacity,{style:{width:50,paddingLeft:SIZES.padding*2,justifyContent:'center'},onPress:function onPress(){return navigation.navigate(\"Company\");}},React.createElement(Image,{source:icons.back,resizeMode:\"contain\",style:{width:30,height:30}})),React.createElement(View,{style:{flex:1,alignItems:'center',justifyContent:'center'}},React.createElement(View,{style:{height:50,alignItems:'center',justifyContent:'center',paddingHorizontal:SIZES.padding*3,borderRadius:SIZES.radius,borderWidth:1,borderColor:COLORS.lightGray1,backgroundColor:COLORS.lightGray3}},React.createElement(Text,{style:_objectSpread({},FONTS.h3)},\"Your Basket\"))),React.createElement(TouchableOpacity,{style:{width:50,paddingRight:SIZES.padding*2,justifyContent:'center'}},React.createElement(Image,{source:icons.list,resizeMode:\"contain\",style:{width:30,height:30}}))),React.createElement(View,{style:{padding:SIZES.padding*2,alignItems:'center',justifyContent:'center'}},React.createElement(TouchableOpacity,{style:{width:SIZES.width*0.9,padding:SIZES.padding,backgroundColor:COLORS.primary,alignItems:'center',borderRadius:SIZES.radius},onPress:function onPress(){return completeOrder();}},React.createElement(Text,{style:_objectSpread({color:COLORS.white},FONTS.h2)},\"Pay Now\"))));}return React.createElement(Animated.ScrollView,{vertical:true,pagingEnabled:true,scrollEventThrottle:16,snapToAlignment:\"center\",showsHorizontalScrollIndicator:false,onScroll:Animated.event([{nativeEvent:{contentOffset:{y:scrollY}}}],{useNativeDriver:false})},React.createElement(SafeAreaView,{style:styles.container},renderHeader(),renderOrderDetails()));}var styles=StyleSheet.create({container:{flex:1,backgroundColor:COLORS.lightGray2}});export default Basket;","map":{"version":3,"sources":["/Users/craigwilsonmusic/codeclan_work/projects/MealPrepAppV2/prep_app/MealPrepApp/Client/app/screens/Basket.js"],"names":["React","useState","useEffect","icons","images","SIZES","COLORS","FONTS","Basket","route","navigation","scrollY","Animated","Value","company","setCompany","orderItems","setOrderItems","menu","setMenu","console","log","params","setMealList","completeOrder","navigate","renderOrderDetails","order","map","item","qty","alignItems","flex","flexDirection","justifyContent","id","name","uri","imageUrl","width","height","borderRadius","renderHeader","paddingLeft","padding","back","paddingHorizontal","radius","borderWidth","borderColor","lightGray1","backgroundColor","lightGray3","h3","paddingRight","list","primary","color","white","h2","event","nativeEvent","contentOffset","y","useNativeDriver","styles","container","StyleSheet","create","lightGray2"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport {View, Text, StyleSheet, SafeAreaView, Image, TouchableOpacity, Animated} from \"react-native\";\n\nimport { icons, images, SIZES, COLORS, FONTS } from '../constants';\n\nfunction Basket({ route, navigation }) {\n\n    const scrollY = new Animated.Value(0);\n    const [company, setCompany] = useState(null);\n    const [orderItems, setOrderItems] = useState([]);\n    const [menu, setMenu] = useState(null);\n\n    console.log(orderItems);\n\n    useEffect(() => {\n        let { company, orderItems, menu } = route.params; \n        setCompany(company);\n        setOrderItems(orderItems);\n        setMenu(menu.setMealList);\n        // console.log(orderItems);\n    }, [])\n\n    function completeOrder() {\n        setCompany(null)\n        setOrderItems([])\n        setMenu(null)\n        navigation.navigate(\"Home\")\n    }\n\n    function renderOrderDetails() {\n        const order = orderItems.map(item => {\n            if (item.qty > 0)\n            return (\n                <View\n                style={{ alignItems: 'center', \n                flex: 1, \n                flexDirection: \"row\", \n                justifyContent: \"space-around\"}}\n                key={item => `basket-${item.id}`}\n                >\n                    <Text style={{\n                        flex: 0.75\n                    }}>{item.name.name} x {item.qty}</Text>\n                    <Image\n                        source={{uri: item.name.imageUrl}}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: SIZES.width/2,\n                            height: \"100%\",\n                            borderRadius:20,\n                            flex: 0.25\n                        }}\n                    />\n                </View>\n            )\n        })\n        return order;\n    }\n\n    function renderHeader() {\n        return (\n            <View>\n            <View style={{ flexDirection: 'row' }}>\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingLeft: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => navigation.navigate(\"Company\")}\n                >\n                    <Image\n                        source={icons.back}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n\n                {/* Restaurant Name Section */}\n                <View\n                    style={{\n                        flex: 1,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 50,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderRadius: SIZES.radius,\n                            borderWidth: 1,\n                            borderColor: COLORS.lightGray1,\n                            backgroundColor: COLORS.lightGray3\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>Your Basket</Text>\n                    </View>\n                </View>\n\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingRight: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                >\n                    <Image\n                        source={icons.list}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n            </View>\n\n            <View\n            style={{\n                padding: SIZES.padding * 2,\n                alignItems: 'center',\n                justifyContent: 'center'\n            }}\n            >\n            <TouchableOpacity\n                style={{\n                    width: SIZES.width * 0.9,\n                    padding: SIZES.padding,\n                    backgroundColor: COLORS.primary,\n                    alignItems: 'center',\n                    borderRadius: SIZES.radius\n                }}\n                onPress={() => completeOrder()}\n            >\n                <Text style={{ color: COLORS.white, ...FONTS.h2 }}>Pay Now</Text>\n            </TouchableOpacity>\n            </View>\n            </View>\n        )\n    }\n          \n    return (\n\n        <Animated.ScrollView\n                vertical\n                pagingEnabled\n                scrollEventThrottle={16}\n                snapToAlignment=\"center\"\n                showsHorizontalScrollIndicator={false}\n                onScroll={Animated.event([\n                    { nativeEvent: { contentOffset: { y: scrollY } } }\n                ], { useNativeDriver: false })}\n            >\n                <SafeAreaView style={styles.container}>\n                    {/* <Text> ? { orderItems[0].id} : null </Text> */}\n                    {renderHeader()}\n                    {renderOrderDetails()}\n                </SafeAreaView>\n        </Animated.ScrollView>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n    flex: 1,\n    backgroundColor: COLORS.lightGray2,\n    }\n})\n\nexport default Basket;"]},"metadata":{},"sourceType":"module"}