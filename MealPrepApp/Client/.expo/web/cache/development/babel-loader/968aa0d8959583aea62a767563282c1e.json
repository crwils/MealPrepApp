{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/craigwilsonmusic/codeclan_work/projects/MealPrepAppV2/prep_app/MealPrepApp/Client/app/screens/Basket.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { icons, images, SIZES, COLORS, FONTS } from \"../constants\";\n\nfunction Basket(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var scrollY = new Animated.Value(0);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      company = _useState2[0],\n      setCompany = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      orderItems = _useState4[0],\n      setOrderItems = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      menu = _useState6[0],\n      setMenu = _useState6[1];\n\n  console.log(orderItems);\n  useEffect(function () {\n    var _route$params = route.params,\n        company = _route$params.company,\n        orderItems = _route$params.orderItems,\n        menu = _route$params.menu;\n    setCompany(company);\n    setOrderItems(orderItems);\n    setMenu(menu.setMealList);\n  }, []);\n\n  function completeOrder() {\n    setCompany(null);\n    setOrderItems([]);\n    setMenu(null);\n    Alert.alert(\"Order complete!\");\n    navigation.navigate(\"Home\");\n  }\n\n  function renderHeader() {\n    return React.createElement(View, {\n      style: {\n        paddingBottom: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingLeft: SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"Company\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: icons.back,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    })), React.createElement(View, {\n      style: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingHorizontal: SIZES.padding * 3,\n        borderRadius: SIZES.radius,\n        borderWidth: 1,\n        borderColor: COLORS.lightGray1,\n        backgroundColor: COLORS.lightGray3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Your Basket\"))), React.createElement(TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingRight: SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: icons.list,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30,\n        tintColor: COLORS.lightGray2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }))), React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, FONTS.h1), {}, {\n        fontWeight: \"800\",\n        paddingTop: 20,\n        paddingLeft: 25\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, \"ORDER SUMMARY:\"));\n  }\n\n  function renderOrderDetails() {\n    var _this = this;\n\n    var renderItem = function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: {\n          alignItems: 'center',\n          flex: 1,\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          marginLeft: 30,\n          marginRight: 30,\n          alignItems: \"left\"\n        },\n        key: function key(item) {\n          return \"basket-\" + item.id;\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, FONTS.h3), {}, {\n          marginBottom: 10\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, item.qty, \"x \", item.name.name), React.createElement(Image, {\n        source: {\n          uri: item.name.imageUrl\n        },\n        resizeMode: \"cover\",\n        style: {\n          width: \"100%\",\n          height: 100,\n          flex: 1,\n          marginBottom: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    return React.createElement(FlatList, {\n      data: orderItems,\n      keyExtractor: function keyExtractor(item) {\n        return \"\" + item.id;\n      },\n      renderItem: renderItem,\n      contentContainerStyle: {\n        paddingHorizontal: SIZES.padding * 2,\n        paddingBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    });\n  }\n\n  function getOrderTotal() {\n    var total = orderItems.reduce(function (counter, item) {\n      return counter + (item.name.price * item.qty || 0);\n    }, 0);\n    return total.toFixed(2);\n  }\n\n  function renderPayment() {\n    return React.createElement(View, {\n      style: {\n        position: \"fixed\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      style: {\n        backgroundColor: COLORS.white,\n        borderTopLeftRadius: 40,\n        borderTopRightRadius: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingVertical: SIZES.padding * 2,\n        paddingHorizontal: SIZES.padding * 3,\n        borderBottomColor: COLORS.lightGray2,\n        borderBottomWidth: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 33\n      }\n    }, \" Total Payment Due: \\xA3\", getOrderTotal(), \" \")), React.createElement(View, {\n      style: {\n        padding: SIZES.padding * 2,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 33\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        width: SIZES.width * 0.9,\n        padding: SIZES.padding,\n        backgroundColor: COLORS.primary,\n        alignItems: 'center',\n        borderRadius: SIZES.radius\n      },\n      onPress: function onPress() {\n        return completeOrder();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({\n        color: COLORS.white\n      }, FONTS.h2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, \"Pay Now\")))));\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, renderHeader(), renderOrderDetails(), renderPayment());\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: COLORS.lightGray4\n  },\n  shadow: {\n    shadowColor: '#800',\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 1\n  }\n});\nexport default Basket;","map":{"version":3,"sources":["/Users/craigwilsonmusic/codeclan_work/projects/MealPrepAppV2/prep_app/MealPrepApp/Client/app/screens/Basket.js"],"names":["React","useState","useEffect","icons","images","SIZES","COLORS","FONTS","Basket","route","navigation","scrollY","Animated","Value","company","setCompany","orderItems","setOrderItems","menu","setMenu","console","log","params","setMealList","completeOrder","Alert","alert","navigate","renderHeader","paddingBottom","flexDirection","width","paddingLeft","padding","justifyContent","back","height","flex","alignItems","paddingHorizontal","borderRadius","radius","borderWidth","borderColor","lightGray1","backgroundColor","lightGray3","h3","paddingRight","list","tintColor","lightGray2","h1","fontWeight","paddingTop","renderOrderDetails","renderItem","item","marginLeft","marginRight","id","marginBottom","qty","name","uri","imageUrl","getOrderTotal","total","reduce","counter","price","toFixed","renderPayment","position","white","borderTopLeftRadius","borderTopRightRadius","paddingVertical","borderBottomColor","borderBottomWidth","primary","color","h2","styles","container","StyleSheet","create","lightGray4","shadow","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { View, Text, StyleSheet, SafeAreaView, Image, TouchableOpacity, Animated, Alert, FlatList } from \"react-native\";\n\nimport { icons, images, SIZES, COLORS, FONTS } from '../constants';\n\nfunction Basket({ route, navigation }) {\n\n    const scrollY = new Animated.Value(0);\n    const [company, setCompany] = useState(null);\n    const [orderItems, setOrderItems] = useState([]);\n    const [menu, setMenu] = useState(null);\n\n    console.log(orderItems);\n\n    useEffect(() => {\n        let { company, orderItems, menu } = route.params; \n        setCompany(company);\n        setOrderItems(orderItems);\n        setMenu(menu.setMealList);\n        // console.log(orderItems);\n    }, [])\n\n    function completeOrder() {\n        setCompany(null)\n        setOrderItems([])\n        setMenu(null)\n        Alert.alert(\"Order complete!\")\n        navigation.navigate(\"Home\")\n    }\n\n    function renderHeader() {\n        return (\n            <View\n            style={{ paddingBottom: 30}}>\n            <View style={{ flexDirection: 'row' }}>\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingLeft: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => navigation.navigate(\"Company\")}\n                >\n                    <Image\n                        source={icons.back}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n\n                <View\n                    style={{\n                        flex: 1,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 50,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderRadius: SIZES.radius,\n                            borderWidth: 1,\n                            borderColor: COLORS.lightGray1,\n                            backgroundColor: COLORS.lightGray3\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>Your Basket</Text>\n                    </View>\n                </View>\n\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingRight: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                >\n                    <Image\n                        source={icons.list}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30,\n                            tintColor: COLORS.lightGray2\n                        }}\n                    />\n                </TouchableOpacity>\n            </View>\n            <Text style={{ ...FONTS.h1, fontWeight: \"800\", paddingTop: 20, paddingLeft: 25 }}>ORDER SUMMARY:</Text>\n            </View>\n        )\n    }\n    \n\n    function renderOrderDetails() {\n    \n        const renderItem = ({ item }) => (\n    \n            <View\n            style={{ alignItems: 'center', \n            flex: 1, \n            flexDirection: \"column\", \n            justifyContent: \"flex-start\",\n            marginLeft: 30,\n            marginRight: 30,\n            alignItems: \"left\"\n            }}\n            key={item => `basket-${item.id}`}\n            >\n                <Text style={{...FONTS.h3, marginBottom: 10 }}\n                >{item.qty}x {item.name.name}</Text>\n                <Image\n                    source={{uri: item.name.imageUrl}}\n                    resizeMode=\"cover\"\n                    style={{\n                        width: \"100%\",\n                        height: 100,\n                        // borderRadius: 20,\n                        flex: 1,\n                        marginBottom: 10\n                    }}\n                />\n            </View>\n        )\n            return (\n                // ORDER NOW text and list of companies\n                <FlatList\n                data={orderItems}\n                keyExtractor={item => `${item.id}`}\n                renderItem={renderItem}\n                contentContainerStyle={{\n                    paddingHorizontal: SIZES.padding * 2,\n                    paddingBottom: 20\n                }}\n                />\n            )            \n    }\n\n    function getOrderTotal() {\n        let total = orderItems.reduce((counter, item) => counter + (item.name.price * item.qty || 0), 0)\n        return total.toFixed(2);\n    }\n\n    function renderPayment() {\n        return (\n                    <View style={{\n                        position: \"fixed\"\n                    }}>\n                        <View\n                            style={{\n                                backgroundColor: COLORS.white,\n                                borderTopLeftRadius: 40,\n                                borderTopRightRadius: 40\n                            }}\n                        >\n                            <View\n                                style={{\n                                    flexDirection: 'row',\n                                    justifyContent: 'space-between',\n                                    paddingVertical: SIZES.padding * 2,\n                                    paddingHorizontal: SIZES.padding * 3,\n                                    borderBottomColor: COLORS.lightGray2,\n                                    borderBottomWidth: 1\n                                }}\n                            >\n                                <Text style={{ ...FONTS.h3 }}> Total Payment Due: £{getOrderTotal()} </Text>\n                            </View>\n                                {/* Order Button */}\n                                <View\n                    style={{\n                        padding: SIZES.padding * 2,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    >\n                    <TouchableOpacity\n                        style={{\n                            width: SIZES.width * 0.9,\n                            padding: SIZES.padding,\n                            backgroundColor: COLORS.primary,\n                            alignItems: 'center',\n                            borderRadius: SIZES.radius\n                        }}\n                        onPress={() => completeOrder()}\n                    >\n                        <Text style={{ color: COLORS.white, ...FONTS.h2 }}>Pay Now</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n\n\n        )\n    }\n          \n    return (\n\n            <SafeAreaView style={styles.container}>\n                {renderHeader()}\n                {renderOrderDetails()}\n                {renderPayment()}\n            </SafeAreaView>\n    \n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: COLORS.lightGray4\n    },\n    shadow: {\n        shadowColor: '#800',\n        shadowOffset: {\n            width: 0,\n            height: 3,\n        },\n        shadowOpacity: 0.1,\n        shadowRadius: 3,\n        elevation: 1,\n    }\n    \n})\n\nexport default Basket;"]},"metadata":{},"sourceType":"module"}